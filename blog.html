<!DOCTYPE html>
<html lang="en">

     <head>
        <meta charset="UTF-8">
        <meta name="googlebot" content="Brachel Champion, Brach Champion">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Blog | Brachel Champion</title>
    
    
        <link href="https://fonts.googleapis.com/css?family=Poppins|Zilla+Slab|Source+Sans+Pro" rel="stylesheet">
    
        <!-- Font Awesome Icons -->
        <script src="https://kit.fontawesome.com/e7b3ba2953.js" crossorigin="anonymous"></script>
    
        <!-- Website Styling -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
        </script>

        <!-- Site styles -->
        <link rel="stylesheet" href="css/site.css">
    
        <!-- Syntax highlighting (Prism.js) OLD link: "https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css" -->
        <link href="css/prism.css" rel="stylesheet" />
    </head>
<body>
    <!-- Nav -->
    <nav class="py-2 border-bottom">
        <div class="container d-flex flex-wrap justify-content-center">
            <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <span class="fs-4">Brachel Champion</span>
            </a>
            <ul class="nav justify-content-center" style="padding-left: 10px; padding-right: 10px; flex-wrap: wrap;">
                <li class="nav-item">
                    <a class="nav-link active" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="research.html">Research</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="teaching.html">Teaching</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="cv.html">CV</a> 
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="cv.html">Blog</a> 
                </li>
            </ul>
            <span class="fs-4 social-links"> 
                <a href="mailto:brachel.champion@afacademy.af.edu" target="_blank"><i class="fas fa-envelope" style="padding-left: 16px;" aria-hidden="true"></i></a>
                &#8226; 
                <a href="https://twitter.com/brachelchampion" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                &#8226; 
                <a href="https://github.com/brachchampion" target="_blank"><i class="fab fa-github" aria-hidden="true"></i></a>
            </span>
        </div>
    </nav>

    
  <div class="blog-container my-5">
    <h1 class="mb-4">Stata Tips & Tricks</h1>

    <!-- Post: Missing values and dummy variables -->
    <div class="card mb-3">
      <div class="card-header d-flex justify-content-between align-items-center">
        <span>
          <strong>Don't forget about missings when generating dummy variables!</strong><br>
        </span>
        <button class="btn btn-sm btn-outline-primary" type="button" data-bs-toggle="collapse" data-bs-target="#post1">
          Read
        </button>
      </div>
      <div id="post1" class="collapse">
        <div class="card mb-3 blog-post">
          <p>Logical statements as expressions can be an elegant way to generate a dummy variable but a common mistake is not accounting for missings. Since Stata treats missings as infinitely large, they are evaluated like any other value and assigned a 0 or 1 accordingly. Here's a quick example of where things can go wrong:</p>
        <div class="code-container position-relative">
        <button class="copy-btn">Copy</button>
        <pre><code class="language-stata">
            input x 
                1
                2
                . 
            end 
            gen dummy = x>1
        </code></pre>
        </div>
          <p>You'd think the result should be dummy = (0,1, .) but since missings are technically >1, they receive a value of 1!</p>
        <div class="code-container position-relative">
        <button class="copy-btn">Copy</button>
        <pre><code class="language-stata">
           . list
               +-----------+
               | x   dummy |
               |-----------|
            1. | 1       0 |
            2. | 2       1 |
            3. | .       1 |
               +-----------+
        </code></pre>
        </div>
        <p>Which creates all sorts of issues since we're filling in values for observations we don't actually know anything about. Fortunately, this is simply remedied by conditioning on only non-missing values:</p>
         <div class="code-container position-relative">
        <button class="copy-btn">Copy</button>
        <pre><code class="language-stata">
           gen dummy = x>1 if x!=. 
           . list
               +-----------+
               | x   dummy |
               |-----------|
            1. | 1       0 |
            2. | 2       1 |
            3. | .       . |
               +-----------+
        </code></pre>
        </div>

        </div>
      </div>
    </div>
  <!-- Prism.js -->
  <script src="js/prism.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-html.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-css.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-javascript.min.js"></script>

   <!-- Copy button  -->
  <script>
document.querySelectorAll('.copy-btn').forEach(button => {
  button.addEventListener('click', () => {
    const code = button.nextElementSibling.innerText;
    navigator.clipboard.writeText(code).then(() => {
      button.textContent = 'Copied!';
      setTimeout(() => (button.textContent = 'Copy'), 1500);
    });
  });
});
</script>
</body>
</html>
